!function(){"use strict";function t(t,n){t.state(n.BASE,{url:"/app",abstract:!0,templateUrl:"app/common/menu/menu.html",controller:"MenuController",controllerAs:"mv"}).state(n.SPLASH,{url:"/splash",templateUrl:"app/common/splash/splash.html",controller:"SplashController",controllerAs:"mv"})}angular.module("playme.common",[]).config(t),t.$inject=["$stateProvider","STATE"]}(),function(){"use strict";angular.module("playme.common").constant("STATE",{BASE:"app",SPLASH:"splash",AUTH:{BASE:"auth",LOGIN:"auth.login"},ALBUM:{LIST:"app.album-list",DETAIL:"app.album-detail",FAVORITE:"app.album-favorite"}}),angular.module("playme.common").constant("APP_EVENT",{LOGOUT:"logout"})}(),function(){"use strict";function t(t,n,a){var e=this;e.logout=function(){t.$emit(a.LOGOUT)},function(){e.STATE=n}()}angular.module("playme.common").controller("MenuController",t),t.$inject=["$rootScope","STATE","APP_EVENT"]}(),function(){"use strict";function t(t,n,a,e,o){t.$on("$ionicView.loaded",function(t,i){e.nextViewOptions({historyRoot:!0,disableBack:!0,disableAnimate:!0}),n(function(){a.go(o.AUTH.LOGIN).then(function(){e.clearHistory()})},4e3)})}angular.module("playme.common").controller("SplashController",t),t.$inject=["$scope","$timeout","$state","$ionicHistory","STATE"]}(),function(){"use strict";function t(t,n){t.state(n.AUTH.BASE,{url:"/auth",abstract:!0,templateUrl:"app/auth/auth.html",controller:"AuthController",controllerAs:"mv"}).state(n.AUTH.LOGIN,{url:"/login",views:{"login-form":{templateUrl:"app/auth/login-form.html"},"signup-form":{templateUrl:"app/auth/signup-form.html"}}})}angular.module("playme.auth",["playme.common"]).config(t),t.$inject=["$stateProvider","STATE"]}(),function(){"use strict";function t(t,n,a,e,o,i,l){var r=this;r.showSignupForm=function(){r.loginMode=!1},r.showLoginForm=function(){r.loginMode=!0},r.doLogin=function(){e.go(i.ALBUM.FAVORITE)},n.$on("$ionicView.loaded",function(t,e){a.addEventListener("native.keyboardshow",function(){n.$apply(function(){r.visibleKeyboard=!0})}),a.addEventListener("native.keyboardhide",function(){n.$apply(function(){r.visibleKeyboard=!1})})}),t.$on(l.LOGOUT,function(){o.nextViewOptions({historyRoot:!0,disableBack:!0,disableAnimate:!0}),e.go(i.AUTH.LOGIN).then(function(){o.clearHistory()})}),function(){r.loginMode=!0,r.visibleKeyboard=!1}()}angular.module("playme.auth").controller("AuthController",t),t.$inject=["$rootScope","$scope","$window","$state","$ionicHistory","STATE","APP_EVENT"]}(),function(){"use strict";function t(t,n){t.state(n.ALBUM.LIST,{url:"/album-list",views:{"menu-content":{templateUrl:"app/album/list/album-list.html",controller:"AlbumListController",controllerAs:"mv"}}}).state(n.ALBUM.DETAIL,{url:"/album-detail",params:{album:null},views:{"menu-content":{templateUrl:"app/album/detail/album-detail.html",controller:"AlbumDetailController",controllerAs:"mv"}}}).state(n.ALBUM.FAVORITE,{url:"/album-favorite",views:{"menu-content":{templateUrl:"app/album/favorite/album-favorite.html",controller:"AlbumFavoriteController",controllerAs:"mv"}}})}angular.module("playme.album",["playme.common"]).config(t),t.$inject=["$stateProvider","STATE"]}(),function(){"use strict";angular.module("playme.album").value("albumList",[{name:"Someday",band:"Nickelback",duration:"20:35",rating:3,image:"img/album1.jpg"},{name:"Equilibrium",band:"Sagas",duration:"31:27",rating:0,image:"img/album2.jpg"},{name:"In Extremo",band:"Sterneisen",duration:"42:30",rating:2,image:"img/album3.jpg"},{name:"Apocalyptica",band:"Wagner Reloaded",duration:"12:45",rating:4,image:"img/album4.jpg"},{name:"Dark Horse",band:"Nickelback",duration:"20:35",rating:3,image:"img/album1.jpg"},{name:"Equilibrium",band:"Sagas",duration:"31:27",rating:0,image:"img/album2.jpg"},{name:"In Extremo",band:"Sterneisen",duration:"42:30",rating:2,image:"img/album1.jpg"},{name:"Apocalyptica",band:"Wagner Reloaded",duration:"12:45",rating:4,image:"img/album3.jpg"},{name:"Apocalyptica",band:"Metalica",duration:"20:35",rating:3,image:"img/album4.jpg"},{name:"Equilibrium",band:"Sagas",duration:"31:27",rating:0,image:"img/album1.jpg"}])}(),function(){"use strict";function t(t,n,a){this.list=function(){return t.resolve(angular.copy(a))},this.favorites=function(){return t.resolve(n("limitTo")(a,7))}}angular.module("playme.album").service("albumService",t),t.$inject=["$q","$filter","albumList"]}(),function(){"use strict";function t(t,n,a,e){var o=this;o.goDetail=function(t){n.go(e.ALBUM.DETAIL,{album:t})},o.toogleSearch=function(){o.searchEnabled=!o.searchEnabled},o.doSearch=function(){o.searchText=o.searchFor},o.refreshList=function(){a.list().then(function(t){o.albums=t}).catch(function(t){o.albums=[]})},t.$on("$ionicView.loaded",function(t,n){o.refreshList()}),t.$on("$ionicView.afterLeave",function(t,n){o.searchEnabled=!1}),function(){o.albums=[],o.searchText="",o.searchFor="",o.searchEnabled=!1}()}angular.module("playme.album").controller("AlbumListController",t),t.$inject=["$scope","$state","albumService","STATE"]}(),function(){"use strict";function t(t,n){var a=this;t.$on("$ionicView.enter",function(t,e){n.album&&(a.album=n.album,a.ratingsObject.rating=a.album.rating)}),function(){a.album={},a.ratingsObject={rating:0,callback:function(t,n){}}}()}angular.module("playme.album").controller("AlbumDetailController",t),t.$inject=["$scope","$stateParams"]}(),function(){"use strict";function t(t,n,a,e){var o=this;o.goDetail=function(t){n.go(e.ALBUM.DETAIL,{album:t})},t.$on("$ionicView.loaded",function(t,n){a.favorites().then(function(t){o.favorites=t}).catch(function(t){o.favorites=[]})}),function(){o.favorites=[]}()}angular.module("playme.album").controller("AlbumFavoriteController",t),t.$inject=["$scope","$state","albumService","STATE"]}(),function(){"use strict";function t(t,n,a,e,o,i){var l=function(){e.confirm({title:"System warning",template:"are you sure you want to exit?",okType:"button-royal"}).then(function(t){t&&navigator.app.exitApp()})};n.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleDefault(),n.registerBackButtonAction(function(n){var e=a.currentStateName();if(e==o.SPLASH||e==o.AUTH.LOGIN)l();else{var r=a.backView();if(r){var u=r.stateName;u==o.AUTH.LOGIN?t.$emit(i.LOGOUT):a.goBack()}else t.$emit(i.LOGOUT)}},100)})}angular.module("playme",["ionic","ngAnimate","ionic-ratings","playme.common","playme.auth","playme.album"]).run(t),t.$inject=["$rootScope","$ionicPlatform","$ionicHistory","$ionicPopup","STATE","APP_EVENT"]}(),function(){"use strict";function t(t,n){n.backButton.text("").previousTitleText(!1),t.otherwise("/splash")}var n=angular.module("playme");n.config(t),t.$inject=["$urlRouterProvider","$ionicConfigProvider"]}();